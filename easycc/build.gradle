apply plugin: 'application'
apply plugin: LexicalAnalysisPlugin
apply plugin: SemanticAnalysisPlugin

version = '1.0'

mainClassName = "EasyCC"

dependencies {
    compile project(':semantic-analysis')
    compile project(':dev-gui')
}

lexicalAnalyzer {
    machinePath = "/moon/state-machine.json"
    configPath = "/moon/lexical-analysis.json"
}

semanticAnalyzer {

}

jar {
    manifest {
        attributes  'Implementation-Title': name,
                'Implementation-Version': version,
                'Main-Class': mainClassName
    }
    from sourceSets.main.runtimeClasspath
    from configurations.compile.collect { zipTree it }
}

task copyResrouces << {
    println "Copying resources"
    copy {
        from project(":lexical-analysis").getProjectDir().toString() + '/src/test/resources/moon/'
        into 'src/main/resources/moon/'
        include 'state-machine.json'
        include 'lexical-analysis.json'
    }
}